<div class="form-row">
  <!-- citation steps -->
  <div class="form-row">
    @for (c of citation(); track c.step; let last = $last) {
    <cadmus-citation-step [step]="c" (stepClick)="onStepClick($event)" />
    @if (!last) {
    <div class="separator">&#x25b6;</div>
    } }
  </div>

  <!-- scheme -->
  @if (!schemes().length) {
  <span class="muted">(no schemes)</span>
  } @else { @if (schemes().length > 1) {
  <mat-form-field
    [style.border-top]="'2px solid ' + scheme.value.color"
    id="scheme-field"
  >
    <mat-label>scheme</mat-label>
    <mat-select [formControl]="scheme">
      <mat-option *ngFor="let s of schemes()" [value]="s">
        @if (s.color) {
        <span [style.color]="s.color">&#x23fa;</span>
        }
        {{ s.name }}
      </mat-option>
    </mat-select>
    @if ($any(scheme).errors?.required && (scheme.dirty || scheme.touched)) {
    <mat-error>scheme required</mat-error>
    }
    <mat-hint>schemes: {{ schemes().length }}</mat-hint>
  </mat-form-field>
  } }
</div>
